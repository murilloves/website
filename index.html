<html>
  <head></head>
  <body>
    <div class="section-100">
      <div id="bg-back"></div>
      <div id="bg-front"></div>
      <div id="section-stars"></div>

      <div id="section-text" style="
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-size: 32pt;
        /* text-shadow: 0 0 10px #ffffff; */
        color: white;
        transition: opacity 2s ease;
        opacity: 1;
        text-align: center;
        /* opacity: 0; */
        ">
        <div>
          <div>
            Hello, I'm <span style="">Murillo Silva</span>.
          </div>
          <div>
            I'm a front-end web developer.
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

<style>
  body { margin: 0; }

  #section-stars {
    opacity: 0;
    transition: opacity 1.5s ease-in;
  }

  #section-stars, #bg-back, #bg-front, #section-text {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    position: absolute;
  }

  .section-100 { overflow: hidden; }

  .star {
    position: absolute;
    border-radius: 100%;
    padding: 25px;
    transition: margin 0.5s;
  }

  .star span {
    position: absolute;
    border-radius: 10px;
    opacity: 0;
    transition: opacity 0.4s ease;
    background-color: #ffffff;
    box-shadow: 0px 0px 4px #ffffff;
  }

  .star:hover span {
    animation-name: glow;
    animation-duration: 2.5s;
    animation-timing-function: ease;
    animation-delay: 0s;
    animation-iteration-count: 13;
    animation-direction: normal;
    animation-fill-mode: forwards;
  }
  @keyframes glow {
    0% { opacity: 0.6 }
    30% { opacity: 0.8 }
    50% { opacity: 0.2 }
    70% { opacity: 0.9 }
    90% { opacity: 0.4 }
  }
</style>

<script>
  let gradientTimeMS = 3000;
  const starsQtd = 300;
  const sectionStars = document.getElementById('section-stars');
  const minShineOpacity = 0.1;
  const maxShineOpacity = 0.7;

  createStar = (coordX, coordY, index) => {
    const shine = Math.random() * (maxShineOpacity - minShineOpacity) + minShineOpacity;

    let outterNode = document.createElement("div");
    outterNode.classList.add('star');
    outterNode.style.left = coordX + "px";
    outterNode.style.top = coordY + "px";
    outterNode.style.zIndex = index;

    let innerNode = document.createElement("span");
    innerNode.style.opacity = shine;
    const randomNumber = Math.random();
    const starSize = Math.floor(randomNumber * 4) + 1;
    innerNode.style.animation = `glow 3.14s ease ${randomNumber * 18}s infinite normal forwards`;
    innerNode.style.width = starSize;
    innerNode.style.height = starSize;

    outterNode.appendChild(innerNode);
    sectionStars.appendChild(outterNode);
  }

  getRandomNumber = (max, min) => Math.floor(Math.random() * (max - min) + min);

  skyGradientIndex = 0;
  skyGradients = [
    'linear-gradient(to bottom, #00000c 85%,#020111 100%)',
    'linear-gradient(to bottom, #020111 85%,#191621 100%)',
    'linear-gradient(to bottom, #020111 60%,#20202c 100%)',
    'linear-gradient(to bottom, #020111 10%,#3a3a52 100%)',
    'linear-gradient(to bottom, #20202c 0%,#515175 100%)',
    'linear-gradient(to bottom, #40405c 0%,#6f71aa 80%,#8a76ab 100%)',
    'linear-gradient(to bottom, #4a4969 0%,#7072ab 50%,#cd82a0 100%)',
    'linear-gradient(to bottom, #757abf 0%,#8583be 60%,#eab0d1 100%)',
    'linear-gradient(to bottom, #82addb 0%,#ebb2b1 100%)',
    'linear-gradient(to bottom, #94c5f8 1%,#a6e6ff 70%,#b1b5ea 100%)',
    'linear-gradient(to bottom, #b7eaff 0%,#94dfff 100%)',
    'linear-gradient(to bottom, #9be2fe 0%,#67d1fb 100%)',
    'linear-gradient(to bottom, #90dffe 0%,#38a3d1 100%)',
    'linear-gradient(to bottom, #57c1eb 0%,#246fa8 100%)',
    'linear-gradient(to bottom, #2d91c2 0%,#1e528e 100%)',
    'linear-gradient(to bottom, #2473ab 0%,#1e528e 70%,#5b7983 100%)',
    'linear-gradient(to bottom, #1e528e 0%,#265889 50%,#9da671 100%)',
    'linear-gradient(to bottom, #1e528e 0%,#728a7c 50%,#e9ce5d 100%)',
    'linear-gradient(to bottom, #154277 0%,#576e71 30%,#e1c45e 70%,#b26339 100%)',
    'linear-gradient(to bottom, #163C52 0%,#4F4F47 30%,#C5752D 60%,#B7490F 80%, #2F1107 100%)',
    'linear-gradient(to bottom, #071B26 0%,#071B26 30%,#8A3B12 80%,#240E03 100%)',
    'linear-gradient(to bottom, #010A10 30%,#59230B 80%,#2F1107 100%)',
    'linear-gradient(to bottom, #090401 50%,#4B1D06 100%)',
    'linear-gradient(to bottom, #00000c 80%,#150800 100%)',
  ];

  setBackgroundGradient = () => {
    document.getElementById('bg-back').style.background = skyGradients[skyGradientIndex];
    document.getElementById('bg-front').style.background = skyGradients[skyGradientIndex];
  }

  startIntervalBackgroundGradient = () => {
    skyGradientIndex + 1 >= skyGradients.length
      ? skyGradientIndex = 0
      : skyGradientIndex++;

    document.getElementById('bg-back').style.background = skyGradients[skyGradientIndex];
    document.getElementById('bg-front').style.transition = `${gradientTimeMS}ms linear`;
    document.getElementById('bg-front').style.opacity = 0;

    setTimeout( () => {
      document.getElementById('bg-front').style.background = skyGradients[skyGradientIndex];
      document.getElementById('bg-front').style.transition = 'none';
      document.getElementById('bg-front').style.opacity = 1;

      setTimeout(() => {
        gradientTimeMS += 500;
        startIntervalBackgroundGradient();
      }, gradientTimeMS * 0.01);
    }, gradientTimeMS);
  }

  addListenerMousePosition = () => {
    window.addEventListener('mousemove', function(ev) {
      const scrWidth = screen.width;
      const scrHeight = screen.height;

      const scrMiddle = {
        xDivisorFactor: Math.floor(scrWidth / 9),
        yDivisorFactor: Math.floor(scrHeight / 16),
      }

      const xPosition = ev.x;
      const yPosition = ev.y;

      // console.log(' x: ', Math.floor((e.x - scrMiddle.x) / scrMiddle.xDivisorFactor), ' y: ', Math.floor((e.y - scrMiddle.y) / scrMiddle.yDivisorFactor));

      const stars = document.getElementsByClassName('star');
      Array.from(stars).forEach(star => {

        const starPosX = Number(star.style.left.split('px')[0]);
        const starPosY = Number(star.style.top.split('px')[0]);

        const crazyRandom = Math.floor(Math.random() * (1 + 1) - 1 );

        star.style.marginLeft = - Math.floor((ev.x - starPosX / 2) / scrMiddle.xDivisorFactor) + 0 + 'px';
        star.style.marginTop = - Math.floor((ev.y - starPosY / 2) / scrMiddle.yDivisorFactor) + 'px';

        setTimeout(() => {
          star.style.transition = 'none';
        }, 1000);
      });
    });
  }

  (() => {
    setBackgroundGradient();
    startIntervalBackgroundGradient();

    let screenSize = {
      height: sectionStars.offsetHeight,
      width: sectionStars.offsetWidth,
    }
    console.log('screenSize ', screenSize );

    for (let itr = 0; itr < starsQtd; itr++) {
      const coordX = getRandomNumber(screenSize.width + 100, -100);
      const coordY = getRandomNumber(screenSize.height + 100, -100);

      createStar(coordX, coordY, itr);
    }

    sectionStars.style.opacity = 1;

    // setTimeout(() => {
    addListenerMousePosition();
    // }, gradientTimeMS * 0.5);
  })();
  
</script>
